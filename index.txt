
= MPLW - MatPlotLib  AsciiDoc Filter


Usage
-----

In asciidoc file:

---------------------------------------
include::example.asciidoc[]
---------------------------------------

Will produce following picture: 

include::example.asciidoc[]
        
Text between "----" lines send to stdin of mplw.py. This text further devided with +++"___"+++ line. 
Top part is inline python code calling matplotlib functions and bottom part is plot data. 

This inline code evaluated in environment with matplotlib imported:
-------------------------------
from matplotlib.pyplot import *                                                                                                          
-------------------------------
After inline code evaluated mplw.py executes code which writes PNG file.

If there is no bottom part (plot data),  inline code should provide code to read plot data itself.

Also if lvv_style is enabled (default), MPLW adjust figure borders sizes  (mpl does
not do it automatically), enables grid and sets figure backrgound to light grey. 

In source table above, 1st col is X-values, 2nd and 3rd are Y1 and Y2-values.
Matplotlib function plot() expect X-points-vector (arg1) and
Y-points-vector(arg2).  The c[][] is matrix where c[0] is vector
holding 1st col from above table, c[1] is second column and so on.
Asciidoc will produce from this html file and `example.png`




Install
-------

-------------
emerge -u matplotlib asciidoc git
git clone git://github.com/lvv/mplw.git
cd mplw.git
make install  # this will create 2 files: /etc/asciidoc/filters/mpl/{mpl.conf,mplw.py}
--------------

Replace `emerge` with your distro package manager.


About
------
This is filter for asciidoc.  It based on GNU licensed graphviz2png.py by Gouichi
Iisaka .  I actully don't know python.  I've just replaced small section in it
(marked with ### ###, search for "lvv"),  did a lot of
"s/graphviz/mpl/", found some sample code on the net for reading files in
python and cobbled up the mplw.py (matplotlib wrapper).

Todo
----
* When mplw.py used not as asciidoc filter:
  - if title not set take file name as title
  - if multiple input files specirfied: make one overlayed chart
* http://ditaa.sourceforge.net[DIagrams Through Ascii Art]

.References
- [[[1]]]   http://www.methods.co.nz/asciidoc/asciidoc-graphviz-sample.html[Graphviz filter for AsciiDoc]
- [[[2]]]   http://matplotlib.sourceforge.net[MatPlotLib]

// vim:ts=8 ft=asciidoc:
